

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>✏️ Custom Data Sources &mdash; SounderPy v3.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
    <link rel="shortcut icon" href="https://raw.githubusercontent.com/kylejgillett/sounderpy/main/images/sounderpy_logo.png"/>
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=26a6ea83"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="📈 Tools for Plotting Data" href="plottingdata.html" />
    <link rel="prev" title="🌐 Tools for Getting Data" href="gettingdata.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            SounderPy
              <img src="https://raw.githubusercontent.com/kylejgillett/sounderpy/main/images/sounderpy_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">General:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="about.html">📖 About</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">❓ Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="community.html">🌍 Community</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="gettingdata.html">🌐 Tools for Getting Data</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">✏️ Custom Data Sources</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#built-in-custom-data-ingestion-tools">Built-in Custom Data Ingestion Tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ingesting-wrf-output-data">Ingesting WRF Output Data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#spy.make_wrf_profile"><code class="docutils literal notranslate"><span class="pre">spy.make_wrf_profile()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ingesting-cm1-input-sounding-data">Ingesting CM1 input_sounding Data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#spy.make_cm1_profile"><code class="docutils literal notranslate"><span class="pre">spy.make_cm1_profile()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ingesting-your-own-data-into-sounderpy">Ingesting your own data into SounderPy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#understanding-the-sounderpy-data-format">Understanding the SounderPy data format</a></li>
<li class="toctree-l3"><a class="reference internal" href="#building-a-custom-clean-data-dictionary">Building a custom clean_data dictionary</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="plottingdata.html">📈 Tools for Plotting Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="helpertools.html">🛠️ Helper Tools</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="beginners_sounderpy_cookbook.html">👨‍🍳Beginner’s SounderPy Cookbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="examplegallery.html">📊 Plot Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="examplescripts.html">📝 Usage Examples</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SounderPy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">✏️ Custom Data Sources</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/customdatasources.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="custom-data-sources">
<h1>✏️ Custom Data Sources<a class="headerlink" href="#custom-data-sources" title="Link to this heading"></a></h1>
<p>A neat and very useful aspect of SounderPy is the “<code class="docutils literal notranslate"><span class="pre">clean_data</span></code> dictionary” that stores sounding data. This dictionary is fed into a SounderPy plotting function. The plotting functions are designed in such a way that <em>any</em> data can be passed to it, so long as the data maintains the SounderPy “<code class="docutils literal notranslate"><span class="pre">clean_data</span></code> dictionary” format.</p>
<hr class="docutils" />
<section id="built-in-custom-data-ingestion-tools">
<h2>Built-in Custom Data Ingestion Tools<a class="headerlink" href="#built-in-custom-data-ingestion-tools" title="Link to this heading"></a></h2>
<p>As of v3.0.6, SounderPy has some integrated custom data ingestion tools. These include <code class="docutils literal notranslate"><span class="pre">make_wrf_profile()</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">make_cm1_profile()</span></code>.</p>
<section id="ingesting-wrf-output-data">
<h3>Ingesting WRF Output Data<a class="headerlink" href="#ingesting-wrf-output-data" title="Link to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="spy.make_wrf_profile">
<span class="sig-prename descclassname"><span class="pre">spy.</span></span><span class="sig-name descname"><span class="pre">make_wrf_profile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">latlon</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'WRF-ARW'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'CONTROL</span> <span class="pre">RUN'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#spy.make_wrf_profile" title="Link to this definition"></a></dt>
<dd><p>Return a <code class="docutils literal notranslate"><span class="pre">dict</span></code> of ‘cleaned up’ WRF output profile data for a given location</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> (<em>netCDF4.Dataset</em><em>(</em><em>)</em><em>, </em><em>required</em>) – a netcdf4 dataset object of your wrfout*.nc file</p></li>
<li><p><strong>latlon</strong> (<em>list</em><em>, </em><em>required</em>) – the latitude &amp; longitude pair for sounding (ex: [44.92, -84.72])</p></li>
<li><p><strong>model_name</strong> (<em>str</em><em>, </em><em>recommended</em><em>, </em><em>default is &quot;WRF-ARW&quot;</em>) – the name of your model for plot titles</p></li>
<li><p><strong>run_name</strong> (<em>str</em><em>, </em><em>optional</em><em>, </em><em>default is &quot;CONTROL&quot;</em>) – the name of your run for plot titles</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>clean_data, a dict of ready-to-use vertical profile data including pressure, height, temperature, dewpoint, u-wind, v-wind, &amp; model information</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<div class="highlight-python notranslate" id="wrfexample"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sounderpy</span> <span class="k">as</span> <span class="nn">spy</span>
<span class="kn">import</span> <span class="nn">netcdf4</span>

<span class="c1"># open your `wrfout*.nc` file as a netCDF4 dataset</span>
<span class="n">wrf_ds</span> <span class="o">=</span> <span class="n">netCDF4</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span><span class="n">filename_of_wrf_data</span><span class="p">)</span>

<span class="c1"># use `make_wrf_profile()` to create a `clean_data` dictionary of sounding data</span>
<span class="n">clean_data</span> <span class="o">=</span> <span class="n">make_wrf_profile</span><span class="p">(</span><span class="n">wrf_ds</span><span class="p">,</span> <span class="p">[</span><span class="mf">48.978</span><span class="p">,</span> <span class="o">-</span><span class="mf">100.861</span><span class="p">])</span>

<span class="c1"># Now, pass the &#39;clean_data&#39; dictionary into the SounderPy `build_sounding` function</span>
<span class="n">spy</span><span class="o">.</span><span class="n">build_sounding</span><span class="p">(</span><span class="n">clean_data</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="ingesting-cm1-input-sounding-data">
<h3>Ingesting CM1 input_sounding Data<a class="headerlink" href="#ingesting-cm1-input-sounding-data" title="Link to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="spy.make_cm1_profile">
<span class="sig-prename descclassname"><span class="pre">spy.</span></span><span class="sig-name descname"><span class="pre">make_cm1_profile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta_data_dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#spy.make_cm1_profile" title="Link to this definition"></a></dt>
<dd><p>Return a <code class="docutils literal notranslate"><span class="pre">dict</span></code> of CM1 <cite>input_sounding</cite> data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em><em>, </em><em>required</em>) – the filename of an <cite>input_sounding</cite> file</p></li>
<li><p><strong>meta_data_dict</strong> (<em>dict</em><em>, </em><em>required</em>) – a simple dictionary of metadata for the profile (see <a class="reference internal" href="#cm1example"><span class="std std-ref">‘CM1 Example’</span></a>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>clean_data, a dict of ready-to-use vertical profile data including pressure, height, temperature, dewpoint, u-wind, v-wind, &amp; model information</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<div class="highlight-python notranslate" id="cm1example"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sounderpy</span> <span class="k">as</span> <span class="nn">spy</span>

<span class="c1"># create this simple dict of information for your profile</span>
<span class="c1"># latitude, longitude, elevation, and top, right &amp; left titles are required</span>
<span class="n">meta_data_dict</span> <span class="o">=</span> <span class="p">{</span>
 <span class="s1">&#39;latlon&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">45.100</span><span class="p">,</span> <span class="o">-</span><span class="mf">100.89</span><span class="p">],</span>
 <span class="s1">&#39;elev&#39;</span><span class="p">:</span> <span class="mi">358</span><span class="p">,</span>
 <span class="s1">&#39;top_title&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;CUSTOM CM1 COMPOSITE SOUNDING&quot;</span><span class="p">,</span>
 <span class="s1">&#39;left_title&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Near-storm inflow RUC sounding for the El-Reno EF3 tornado&quot;</span><span class="p">,</span>
 <span class="s1">&#39;right_title&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;May 24, 2011&quot;</span><span class="p">}</span>

<span class="c1"># use `make_cm1_profile()` to create a `clean_data` dictionary of sounding data</span>
<span class="n">clean_data</span> <span class="o">=</span> <span class="n">make_cm1_profile</span><span class="p">(</span><span class="n">input_sounding_filename</span><span class="p">,</span> <span class="n">meta_data_dict</span><span class="p">)</span>

<span class="c1"># Now, pass the &#39;clean_data&#39; dictionary into the SounderPy `build_sounding` function</span>
<span class="n">spy</span><span class="o">.</span><span class="n">build_sounding</span><span class="p">(</span><span class="n">clean_data</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>CM1 input_sounding height data <em>should</em> be “AGL”, or “above ground level”. This means you’ll need an elevation value to plot your profile correctly. Find the elevation of where this profile is “supposed to be” and add it to the <cite>meta_data_dict</cite>.</p>
</div>
</section>
</section>
<hr class="docutils" />
<section id="ingesting-your-own-data-into-sounderpy">
<h2>Ingesting your own data into SounderPy<a class="headerlink" href="#ingesting-your-own-data-into-sounderpy" title="Link to this heading"></a></h2>
<p>If you have custom data that you want to plot with SounderPy, you can just manually create a “<code class="docutils literal notranslate"><span class="pre">clean_data</span></code> dictionary” and pass it to a plot!</p>
<p>Your data could be field campaign observations, custom model output, university soundings, and anything else in between. So long as you set it up right, it can be integrated into SounderPy.</p>
<section id="understanding-the-sounderpy-data-format">
<h3>Understanding the SounderPy data format<a class="headerlink" href="#understanding-the-sounderpy-data-format" title="Link to this heading"></a></h3>
<p>What’s contained in the <code class="docutils literal notranslate"><span class="pre">clean_data</span></code> dictionary…</p>
<dl class="simple">
<dt>The actual profile data…</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">clean_data['p']</span></code>: an <cite>array</cite> of pressure data</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clean_data['z']</span></code>: an <cite>array</cite> of height data</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clean_data['T']</span></code>: an <cite>array</cite> of temperature data</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clean_data['Td']</span></code>: an <cite>array</cite> of dewpoint data</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clean_data['u']</span></code>: an <cite>array</cite> of u-component of wind data</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clean_data['v']</span></code>: an <cite>array</cite> of v-component of wind data</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clean_data['omega']</span></code>: an <cite>array</cite> of vertical velocity – model data only</p></li>
</ul>
</dd>
<dt>The profile metadata (via <cite>clean_data[‘site_info’]</cite>)…</dt><dd><ul class="simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">clean_data['site_info']['site-name']</span></code></dt><dd><ul>
<li><p>a <cite>str</cite> representing the name of a profile site, if available (e.g. ‘DTX’)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">clean_data['site_info']['site-lctn']</span></code></dt><dd><ul>
<li><p>a <cite>str</cite> representing additional site location information (e.g. ‘MI US’)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">clean_data['site_info']['site-latlon']</span></code></dt><dd><ul>
<li><p>a latitude-longitude pair of <cite>floats</cite> in a <cite>list</cite></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">clean_data['site_info']['site-elv']</span></code></dt><dd><ul>
<li><p>elevation of the profile</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">clean_data['site_info']['source']</span></code></dt><dd><ul>
<li><p>a <cite>str</cite> representing the data source name (e.g. ‘RAOB OBSERVED PROFILE’)</p></li>
<li><p>other sources are… ‘ACARS OBSERVED AIRCRAFT PROFILE’, ‘BUFKIT FORECAST PROFILE’, ‘MODEL REANALYSIS PROFILE’, ‘RAOB OBSERVED PROFILE’</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">clean_data['site_info']['model']</span></code></dt><dd><ul>
<li><p>a <cite>str</cite> representing the model name, if available (e.g., ‘no-model’ or ‘hrrr’)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">clean_data['site_info']['fcst-hour']</span></code></dt><dd><ul>
<li><p>if a model is used, the forecast hour of the model run as a <cite>str</cite> (e.g. ‘no-fcst-hour’ or ‘F01’)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">clean_data['site_info']['run-time']</span></code></dt><dd><ul>
<li><p>if a model is used, the model run time as a <cite>list</cite> of <cite>strs</cite></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">clean_data['site_info']['valid-time']</span></code></dt><dd><ul>
<li><p>the data’s valid time as a <cite>list</cite> of <cite>strs</cite></p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
<dt>And finally, <code class="docutils literal notranslate"><span class="pre">clean_data</span></code> also contains pre-built plot titles (via <cite>clean_data[‘titles’]</cite>).</dt><dd><ul class="simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">clean_data['titles']['top_title']</span></code></dt><dd><ul>
<li><p>the primary, or “main” title that appears above everything else</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">clean_data['titles']['left_title']</span></code></dt><dd><ul>
<li><p>the left title that typically contains time/date information</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">clean_data['titles']['right_title']</span></code></dt><dd><ul>
<li><p>the right title that typically contains location information</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
<p>Below is an example:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;p&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span><span class="p">([</span><span class="mf">984.7</span> <span class="mf">981.8</span> <span class="mf">976.4</span> <span class="mf">967.1</span> <span class="mf">953.4</span> <span class="mf">935.8</span> <span class="mf">914.8</span> <span class="mf">892.</span>  <span class="mf">867.2</span> <span class="mf">839.6</span> <span class="mf">809.2</span> <span class="mf">775.8</span>
  <span class="mf">739.6</span> <span class="mf">700.4</span> <span class="mf">658.4</span> <span class="mf">613.4</span> <span class="mf">566.1</span> <span class="mf">520.1</span> <span class="mf">478.7</span> <span class="mf">441.6</span> <span class="mf">408.1</span> <span class="mf">377.8</span> <span class="mf">350.5</span> <span class="mf">325.8</span>
  <span class="mf">303.6</span> <span class="mf">283.6</span> <span class="mf">265.5</span> <span class="mf">248.7</span> <span class="mf">233.5</span> <span class="mf">219.6</span> <span class="mf">205.7</span> <span class="mf">191.7</span> <span class="mf">177.7</span> <span class="mf">163.8</span> <span class="mf">149.8</span> <span class="mf">135.9</span>
  <span class="mf">121.9</span> <span class="mf">108.</span>   <span class="mf">94.</span>   <span class="mf">81.</span>   <span class="mf">70.6</span>  <span class="mf">62.2</span>  <span class="mf">54.3</span><span class="p">],</span> <span class="s1">&#39;hectopascal&#39;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">,</span>
 <span class="s1">&#39;z&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span><span class="p">([</span>  <span class="mf">262.29</span>   <span class="mf">287.38</span>   <span class="mf">334.72</span>   <span class="mf">417.39</span>   <span class="mf">540.9</span>    <span class="mf">701.94</span>   <span class="mf">897.92</span>  <span class="mf">1116.39</span>
   <span class="mf">1360.38</span>  <span class="mf">1638.85</span>  <span class="mf">1954.13</span>  <span class="mf">2311.53</span>  <span class="mf">2712.99</span>  <span class="mf">3165.6</span>   <span class="mf">3673.36</span>  <span class="mf">4247.56</span>
   <span class="mf">4889.99</span>  <span class="mf">5558.47</span>  <span class="mf">6202.</span>    <span class="mf">6817.56</span>  <span class="mf">7410.43</span>  <span class="mf">7981.44</span>  <span class="mf">8527.44</span>  <span class="mf">9050.51</span>
   <span class="mf">9548.</span>   <span class="mf">10021.78</span> <span class="mf">10474.5</span>  <span class="mf">10917.67</span> <span class="mf">11339.77</span> <span class="mf">11745.44</span> <span class="mf">12172.28</span> <span class="mf">12626.51</span>
  <span class="mf">13109.32</span> <span class="mf">13623.36</span> <span class="mf">14184.85</span> <span class="mf">14794.86</span> <span class="mf">15466.97</span> <span class="mf">16205.52</span> <span class="mf">17052.44</span> <span class="mf">17961.73</span>
  <span class="mf">18802.02</span> <span class="mf">19579.02</span> <span class="mf">20415.56</span><span class="p">],</span> <span class="s1">&#39;meter&#39;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">,</span>
 <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span><span class="p">([</span> <span class="mf">14.84</span>  <span class="mf">17.54</span>  <span class="mf">20.04</span>  <span class="mf">21.34</span>  <span class="mf">21.44</span>  <span class="mf">20.44</span>  <span class="mf">21.44</span>  <span class="mf">22.74</span>  <span class="mf">21.64</span>  <span class="mf">19.94</span>
   <span class="mf">17.54</span>  <span class="mf">14.84</span>  <span class="mf">11.94</span>   <span class="mf">8.64</span>   <span class="mf">5.24</span>   <span class="mf">1.84</span>  <span class="o">-</span><span class="mf">1.86</span>  <span class="o">-</span><span class="mf">6.06</span> <span class="o">-</span><span class="mf">10.56</span> <span class="o">-</span><span class="mf">14.66</span>
  <span class="o">-</span><span class="mf">18.36</span> <span class="o">-</span><span class="mf">22.36</span> <span class="o">-</span><span class="mf">26.66</span> <span class="o">-</span><span class="mf">30.66</span> <span class="o">-</span><span class="mf">34.06</span> <span class="o">-</span><span class="mf">37.26</span> <span class="o">-</span><span class="mf">40.06</span> <span class="o">-</span><span class="mf">43.06</span> <span class="o">-</span><span class="mf">45.96</span> <span class="o">-</span><span class="mf">48.76</span>
  <span class="o">-</span><span class="mf">51.56</span> <span class="o">-</span><span class="mf">54.46</span> <span class="o">-</span><span class="mf">56.86</span> <span class="o">-</span><span class="mf">58.26</span> <span class="o">-</span><span class="mf">58.66</span> <span class="o">-</span><span class="mf">59.66</span> <span class="o">-</span><span class="mf">64.26</span> <span class="o">-</span><span class="mf">65.26</span> <span class="o">-</span><span class="mf">64.26</span> <span class="o">-</span><span class="mf">64.66</span>
  <span class="o">-</span><span class="mf">63.86</span> <span class="o">-</span><span class="mf">63.36</span> <span class="o">-</span><span class="mf">62.16</span><span class="p">],</span> <span class="s1">&#39;degree_Celsius&#39;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">,</span>
 <span class="s1">&#39;Td&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span><span class="p">([</span>   <span class="mf">9.3</span>     <span class="mf">8.79</span>    <span class="mf">8.32</span>    <span class="mf">7.88</span>    <span class="mf">7.01</span>    <span class="mf">6.38</span>   <span class="o">-</span><span class="mf">2.2</span>   <span class="o">-</span><span class="mf">13.24</span>  <span class="o">-</span><span class="mf">14.49</span>
   <span class="o">-</span><span class="mf">24.86</span>  <span class="o">-</span><span class="mf">17.51</span>   <span class="o">-</span><span class="mf">9.57</span>   <span class="o">-</span><span class="mf">7.31</span>   <span class="o">-</span><span class="mf">9.9</span>   <span class="o">-</span><span class="mf">12.11</span>  <span class="o">-</span><span class="mf">12.99</span>  <span class="o">-</span><span class="mf">16.41</span>  <span class="o">-</span><span class="mf">20.62</span>
   <span class="o">-</span><span class="mf">25.37</span>  <span class="o">-</span><span class="mf">30.93</span>  <span class="o">-</span><span class="mf">36.12</span>  <span class="o">-</span><span class="mf">40.09</span>  <span class="o">-</span><span class="mf">42.47</span>  <span class="o">-</span><span class="mf">45.57</span>  <span class="o">-</span><span class="mf">49.39</span>  <span class="o">-</span><span class="mf">52.06</span>  <span class="o">-</span><span class="mf">54.3</span>
   <span class="o">-</span><span class="mf">55.81</span>  <span class="o">-</span><span class="mf">58.64</span>  <span class="o">-</span><span class="mf">62.27</span>  <span class="o">-</span><span class="mf">64.93</span>  <span class="o">-</span><span class="mf">65.45</span>  <span class="o">-</span><span class="mf">68.93</span>  <span class="o">-</span><span class="mf">74.24</span>  <span class="o">-</span><span class="mf">74.84</span> <span class="o">-</span><span class="mf">101.09</span>
  <span class="o">-</span><span class="mf">101.6</span>  <span class="o">-</span><span class="mf">102.16</span> <span class="o">-</span><span class="mf">102.8</span>  <span class="o">-</span><span class="mf">103.49</span> <span class="o">-</span><span class="mf">104.11</span> <span class="o">-</span><span class="mf">104.68</span> <span class="o">-</span><span class="mf">105.28</span><span class="p">],</span> <span class="s1">&#39;degree_Celsius&#39;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">,</span>
 <span class="s1">&#39;u&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span><span class="p">([</span><span class="o">-</span><span class="mf">2.33041109</span> <span class="o">-</span><span class="mf">2.91567705</span> <span class="o">-</span><span class="mf">2.3323691</span>   <span class="mf">0.77626972</span>  <span class="mf">3.5007069</span>   <span class="mf">5.63835178</span>
   <span class="mf">9.13497097</span> <span class="mf">10.6914363</span>  <span class="mf">13.41432206</span> <span class="mf">20.79403892</span> <span class="mf">23.12721208</span> <span class="mf">21.57710061</span>
  <span class="mf">20.41478107</span> <span class="mf">21.38502534</span> <span class="mf">22.54815854</span> <span class="mf">23.51844683</span> <span class="mf">24.29878342</span> <span class="mf">23.71105505</span>
  <span class="mf">20.98924152</span> <span class="mf">22.35724617</span> <span class="mf">28.57257978</span> <span class="mf">28.18931303</span> <span class="mf">25.65927737</span> <span class="mf">28.56994968</span>
  <span class="mf">28.57863291</span> <span class="mf">29.73848546</span> <span class="mf">31.87877692</span> <span class="mf">31.48766321</span> <span class="mf">29.74415098</span> <span class="mf">27.98817845</span>
  <span class="mf">27.59730449</span> <span class="mf">26.43360693</span> <span class="mf">23.32832754</span> <span class="mf">21.76679295</span> <span class="mf">23.12850533</span> <span class="mf">25.85409643</span>
  <span class="mf">33.62524652</span> <span class="mf">19.4383033</span>   <span class="mf">8.94253878</span>  <span class="mf">9.13760323</span>  <span class="mf">6.0283743</span>   <span class="mf">6.02452813</span>
   <span class="mf">0.38886559</span><span class="p">],</span> <span class="s1">&#39;knot&#39;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">,</span>
 <span class="s1">&#39;v&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span><span class="p">([</span> <span class="mf">3.88459575</span>  <span class="mf">9.13602361</span> <span class="mf">12.24993691</span> <span class="mf">13.79818123</span> <span class="mf">13.99892679</span> <span class="mf">13.41310886</span>
  <span class="mf">10.68811982</span>  <span class="mf">9.33002089</span>  <span class="mf">9.33014275</span>  <span class="mf">6.99796725</span>  <span class="mf">2.91344493</span>  <span class="mf">1.36129697</span>
  <span class="o">-</span><span class="mf">1.35952707</span> <span class="o">-</span><span class="mf">4.85855855</span> <span class="o">-</span><span class="mf">5.83135029</span> <span class="o">-</span><span class="mf">5.44263343</span> <span class="o">-</span><span class="mf">4.85978647</span> <span class="o">-</span><span class="mf">4.08282603</span>
  <span class="o">-</span><span class="mf">4.27412453</span> <span class="o">-</span><span class="mf">5.44184192</span> <span class="o">-</span><span class="mf">4.46923758</span> <span class="o">-</span><span class="mf">0.19680173</span> <span class="o">-</span><span class="mf">0.19257433</span> <span class="o">-</span><span class="mf">4.0813693</span>
  <span class="o">-</span><span class="mf">2.52543878</span> <span class="o">-</span><span class="mf">1.75116608</span> <span class="o">-</span><span class="mf">3.49692463</span> <span class="o">-</span><span class="mf">2.13557144</span>  <span class="mf">0.97112424</span>  <span class="mf">2.71960789</span>
   <span class="mf">2.13803291</span>  <span class="mf">0.5813991</span>   <span class="mf">1.55355538</span>  <span class="mf">5.2458388</span>   <span class="mf">6.21890192</span> <span class="mf">20.41100923</span>
  <span class="mf">13.40831073</span>  <span class="mf">9.91285856</span> <span class="mf">15.74811418</span>  <span class="mf">9.3310132</span>   <span class="mf">9.72277241</span>  <span class="mf">7.38416961</span>
   <span class="mf">6.99920592</span><span class="p">],</span> <span class="s1">&#39;knot&#39;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">,</span>
 <span class="s1">&#39;omega&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span><span class="p">([</span> <span class="mf">0.</span>   <span class="mf">0.</span>   <span class="mf">0.</span>   <span class="mf">0.</span>   <span class="mf">0.</span>   <span class="mf">0.1</span>  <span class="mf">0.1</span>  <span class="mf">0.1</span> <span class="o">-</span><span class="mf">0.1</span> <span class="o">-</span><span class="mf">0.3</span> <span class="o">-</span><span class="mf">0.4</span> <span class="o">-</span><span class="mf">0.2</span> <span class="o">-</span><span class="mf">0.1</span>  <span class="mf">0.</span>
   <span class="mf">0.</span>   <span class="mf">0.1</span>  <span class="mf">0.1</span>  <span class="mf">0.</span>   <span class="mf">0.</span>   <span class="mf">0.</span>   <span class="mf">0.</span>   <span class="mf">0.</span>   <span class="mf">0.</span>   <span class="mf">0.1</span>  <span class="mf">0.1</span>  <span class="mf">0.</span>   <span class="mf">0.</span>   <span class="mf">0.</span>
  <span class="o">-</span><span class="mf">0.1</span>  <span class="mf">0.</span>   <span class="mf">0.</span>   <span class="mf">0.1</span>  <span class="mf">0.1</span>  <span class="mf">0.</span>   <span class="mf">0.</span>   <span class="mf">0.</span>   <span class="mf">0.</span>   <span class="mf">0.</span>   <span class="mf">0.</span>   <span class="mf">0.</span>   <span class="mf">0.</span>   <span class="mf">0.</span>
   <span class="mf">0.</span> <span class="p">],</span> <span class="s1">&#39;pascal / second&#39;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">,</span>

 <span class="s1">&#39;site_info&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;site-id&#39;</span><span class="p">:</span> <span class="s1">&#39;KGFK&#39;</span><span class="p">,</span>
  <span class="s1">&#39;site-name&#39;</span><span class="p">:</span> <span class="s1">&#39;GRAND FORKS INTL&#39;</span><span class="p">,</span>
  <span class="s1">&#39;site-lctn&#39;</span><span class="p">:</span> <span class="s1">&#39;ND&#39;</span><span class="p">,</span>
  <span class="s1">&#39;site-latlon&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">47.95</span><span class="p">,</span> <span class="o">-</span><span class="mf">97.18</span><span class="p">],</span>
  <span class="s1">&#39;site-elv&#39;</span><span class="p">:</span> <span class="mi">257</span><span class="p">,</span>
  <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="s1">&#39;BUFKIT FORECAST PROFILE&#39;</span><span class="p">,</span>
  <span class="s1">&#39;model&#39;</span><span class="p">:</span> <span class="s1">&#39;RAP&#39;</span><span class="p">,</span>
  <span class="s1">&#39;fcst-hour&#39;</span><span class="p">:</span> <span class="s1">&#39;F00&#39;</span><span class="p">,</span>
  <span class="s1">&#39;run-time&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;2024&#39;</span><span class="p">,</span> <span class="s1">&#39;09&#39;</span><span class="p">,</span> <span class="s1">&#39;28&#39;</span><span class="p">,</span> <span class="s1">&#39;04&#39;</span><span class="p">],</span>
  <span class="s1">&#39;valid-time&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;2024&#39;</span><span class="p">,</span> <span class="s1">&#39;09&#39;</span><span class="p">,</span> <span class="s1">&#39;28&#39;</span><span class="p">,</span> <span class="s1">&#39;04&#39;</span><span class="p">]},</span>

 <span class="s1">&#39;titles&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;top_title&#39;</span><span class="p">:</span> <span class="s1">&#39;BUFKIT MODEL FORECAST PROFILE | 04Z RAP F00&#39;</span><span class="p">,</span>
  <span class="s1">&#39;left_title&#39;</span><span class="p">:</span> <span class="s1">&#39; RUN: 09/28/2024 04Z  |  VALID: 09/28/2024 04Z&#39;</span><span class="p">,</span>
  <span class="s1">&#39;right_title&#39;</span><span class="p">:</span> <span class="s1">&#39;KGFK - GRAND FORKS INTL, ND | 47.95, -97.18    &#39;</span><span class="p">}}</span>
</pre></div>
</div>
</div></blockquote>
</section>
<hr class="docutils" />
<section id="building-a-custom-clean-data-dictionary">
<h3>Building a custom clean_data dictionary<a class="headerlink" href="#building-a-custom-clean-data-dictionary" title="Link to this heading"></a></h3>
<p>After importing your custom sounding data, (perhaps using <code class="docutils literal notranslate"><span class="pre">pandas</span></code> or <code class="docutils literal notranslate"><span class="pre">numpy</span></code>) you can define a <code class="docutils literal notranslate"><span class="pre">clean_data</span></code> dictionary with it.</p>
<p>Here is an example. <code class="docutils literal notranslate"><span class="pre">raw_data</span></code> represents some obj with your data. Using <code class="docutils literal notranslate"><span class="pre">raw_data[2]</span></code> is simply referencing some “column of data”, in whatever format <code class="docutils literal notranslate"><span class="pre">raw_data</span></code> is. I.e., if the 2nd index in raw_data holds pressure values, <code class="docutils literal notranslate"><span class="pre">raw_data[2]</span></code> goes into <code class="docutils literal notranslate"><span class="pre">clean_data['p']</span></code>.</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># declare the clean_data dictionary, leave it empty for the moment</span>
<span class="n">clean_data</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c1"># add profile data | make sure you have p, z, T, Td, u, &amp; v</span>
<span class="c1"># use metpy.units to add units to each array -- make sure they are in the same</span>
<span class="c1"># units as show below!</span>
<span class="n">clean_data</span><span class="p">[</span><span class="s1">&#39;p&#39;</span><span class="p">]</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">raw_data</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">hPa</span>
<span class="n">clean_data</span><span class="p">[</span><span class="s1">&#39;z&#39;</span><span class="p">]</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">raw_data</span><span class="p">[</span><span class="mi">7</span><span class="p">])</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">m</span>
<span class="n">clean_data</span><span class="p">[</span><span class="s1">&#39;T&#39;</span><span class="p">]</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">raw_data</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">degC</span>
<span class="n">clean_data</span><span class="p">[</span><span class="s1">&#39;Td&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">raw_data</span><span class="p">[</span><span class="mi">11</span><span class="p">])</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">degC</span>
<span class="n">clean_data</span><span class="p">[</span><span class="s1">&#39;u&#39;</span><span class="p">]</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">raw_data</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">kts</span>
<span class="n">clean_data</span><span class="p">[</span><span class="s1">&#39;v&#39;</span><span class="p">]</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">raw_data</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">kts</span>

<span class="c1"># declare some profile metadata</span>
<span class="n">clean_data</span><span class="p">[</span><span class="s1">&#39;site_info&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;site-id&#39;</span>     <span class="p">:</span> <span class="s1">&#39;UND&#39;</span><span class="p">,</span>                              <span class="c1"># could be a station ID, site ID, launch ID, mission ID, etc</span>
            <span class="s1">&#39;site-name&#39;</span>   <span class="p">:</span> <span class="s1">&#39;GRAND FORKS&#39;</span>                       <span class="c1"># a location&#39;s &quot;name&quot;, usually the city or town</span>
            <span class="s1">&#39;site-lctn&#39;</span>   <span class="p">:</span> <span class="s1">&#39;ND&#39;</span><span class="p">,</span>                               <span class="c1"># could be another name, or the state</span>
            <span class="s1">&#39;site-latlon&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">47.9213</span><span class="p">,</span> <span class="o">-</span><span class="mf">97.087</span><span class="p">]</span>                  <span class="c1"># location lat/lon, list of floats</span>
            <span class="s1">&#39;site-elv&#39;</span>    <span class="p">:</span> <span class="mi">257</span><span class="p">,</span>                                <span class="c1"># the profile&#39;s elevation in meters (int or float) (easily found on google)</span>
            <span class="s1">&#39;source&#39;</span>      <span class="p">:</span> <span class="s1">&#39;UND AEROSPACE&#39;</span>                     <span class="c1"># the &#39;source&#39; which will be the main title component of the plot</span>
            <span class="s1">&#39;model&#39;</span>       <span class="p">:</span> <span class="s1">&#39;none&#39;</span><span class="p">,</span>                             <span class="c1"># model name if a model was involved</span>
            <span class="s1">&#39;fcst-hour&#39;</span>   <span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;none&#39;</span><span class="p">,</span>                            <span class="c1"># forecast hour if a model was involved</span>
            <span class="s1">&#39;run-time&#39;</span>    <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="s1">&#39;none&#39;</span><span class="p">],</span>   <span class="c1"># model run date if a model was involved</span>
            <span class="s1">&#39;valid-time&#39;</span>  <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2024&quot;</span><span class="p">,</span> <span class="s2">&quot;09&quot;</span><span class="p">,</span> <span class="s2">&quot;28&quot;</span><span class="p">,</span> <span class="s2">&quot;16:15&quot;</span><span class="p">]}</span>      <span class="c1"># the profile&#39;s valid date/time.</span>

<span class="c1"># declare the plot titles</span>
<span class="n">clean_data</span><span class="p">[</span><span class="s1">&#39;titles&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;top_title&#39;</span><span class="p">:</span> <span class="s1">&#39;UNIVERSITY OF NORTH DAKOTA AEROSPACE | OBSERVED SOUNDING&#39;</span><span class="p">,</span>
            <span class="s1">&#39;left_title&#39;</span><span class="p">:</span> <span class="s1">&#39;VALID: 09/28/2024 - 16:15Z&#39;</span><span class="p">,</span>
            <span class="s1">&#39;right_title&#39;</span><span class="p">:</span> <span class="s1">&#39;GRAND FORKS, ND [47.9213, -97.087]    &#39;</span><span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>Done! Now your custom data source is integrated into a SounderPy <code class="docutils literal notranslate"><span class="pre">clean_data</span></code> dictionary.</p>
<p>Finally, you can pass it into the <code class="docutils literal notranslate"><span class="pre">build_sounding()</span></code> to visualize your data.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">spy</span><span class="o">.</span><span class="n">build_sounding</span><span class="p">(</span><span class="n">clean_data</span> <span class="o">*</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="gettingdata.html" class="btn btn-neutral float-left" title="🌐 Tools for Getting Data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="plottingdata.html" class="btn btn-neutral float-right" title="📈 Tools for Plotting Data" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Kyle J Gillett.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>